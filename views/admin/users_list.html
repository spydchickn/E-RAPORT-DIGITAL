{{ define "admin/users_list.html" }}
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <strong>Daftar Pengguna</strong>
        <a href="/users/create" class="btn btn-sm btn-primary"
            >Tambah Pengguna</a
        >
    </div>
    <div class="card-body p-0">
        <table class="table mb-0">
            <thead class="table-light">
                <tr>
                    <th>Username</th>
                    <th>Role</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody>
                {{ range . }}
                <tr>
                    <td>{{ .Username }}</td>
                    <td>{{ .Role }}</td>
                    <td>
                        {{ if eq .Role "siswa" }} {{ if .HasSiswa }}
                        <span class="badge bg-success">Siswa dibuat</span>
                        {{ else }}
                        <a
                            class="btn btn-sm btn-outline-primary"
                            href="/siswa/create?user_id={{ .ID }}"
                            >Buat Siswa</a
                        >
                        {{ end }} {{ end }} {{ if eq .Role "guru" }} {{ if
                        .HasGuru }}
                        <span class="badge bg-success">Guru dibuat</span>
                        {{ else }}
                        <a
                            class="btn btn-sm btn-outline-primary"
                            href="/guru/create?user_id={{ .ID }}"
                            >Buat Guru</a
                        >
                        {{ end }} {{ end }}
                        <a
                            class="btn btn-sm btn-danger"
                            href="/users/delete?id={{ .ID }}"
                            >Hapus</a
                        >
                    </td>
                </tr>
                {{ else }}
                <tr>
                    <td colspan="3" class="text-center">Tidak ada pengguna</td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
</div>
{{ end }}
